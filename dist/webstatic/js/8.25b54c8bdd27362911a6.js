webpackJsonp([8],{J9mm:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("3cXf"),i=a.n(s),l=a("aA9S"),o=a.n(l),n=a("ZLEe"),r=a.n(n),c=a("4YfN"),d=a.n(c),p={props:{visible:{type:Boolean,default:function(){return!1}},data:{type:Object,default:function(){return{}}}},watch:{visible:function(t){this.dialogShow=t},data:function(t){this.rowData=JSON.parse(i()(t))}},data:function(){return{rowData:{},dialogShow:!1}},methods:{dialogClose:function(){for(var t in this.$emit("dialogClose",!1),this.formData)this.formData[t].check=!1},dialogConfirm:function(){this.$emit("dialogConfirm",{id:this.rowData.id,sellerRemark:this.rowData.sellerRemark}),this.$emit("dialogClose",!1)}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"settingDialogCom"},[a("el-dialog",{attrs:{title:"修改任务备注",visible:t.dialogShow},on:{"update:visible":function(e){t.dialogShow=e},close:t.dialogClose}},[a("div",{staticClass:"content"},[a("el-row",[a("el-col",{attrs:{span:6}},[a("p",[t._v("任务编号：")])]),t._v(" "),a("el-col",{attrs:{span:18}},[a("p",[t._v(t._s(t.rowData.id))])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("p",[t._v("任务备注：")])]),t._v(" "),a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{placeholder:"请输入任务,不超过80字",type:"textarea"},model:{value:t.rowData.sellerRemark,callback:function(e){t.$set(t.rowData,"sellerRemark",e)},expression:"rowData.sellerRemark"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.dialogClose}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.dialogConfirm}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var v=a("C7Lr")(p,u,!1,function(t){a("tx3I")},"data-v-aa05deee",null).exports,m=a("s6ZY"),h=a("R4Sj"),g={data:function(){return{totle:"0",pctotle:"0",apptotle:"0",btnActive:0,priceType:1,releaseDateList:[{isadd:!0,taskNum:0,beginTime:this.nowtime(),endTime:"23:59",tiemout:"23:59",releaseDay:""}],dateList:[],limitTime:this.endtime()}},computed:d()({},Object(h.b)(["getdate"]),Object(h.b)(["gettask"])),watch:{priceType:function(t,e){var a=this.releaseDateList,s=[];s.push(a[0]),console.log(s);var i=this.dateList;switch(t){case 1:this.releaseDateList=[{isadd:!0,taskNum:0,beginTime:this.nowtime(),endTime:"23:59",tiemout:"23:59",releaseDay:i[0]}];break;case 2:this.releaseDateList=[{isadd:!0,taskNum:0,beginTime:this.nowtime(),endTime:this.endtime(),tiemout:this.endtime(),releaseDay:i[0]}];break;case 3:var l=[];for(var o in i)l.push({isadd:!0,taskNum:0,beginTime:"00:00",endTime:"23:59",tiemout:"23:59",releaseDay:i[o]});this.releaseDateList=l}},releaseDateList:{handler:function(t,e){var a=0;t.forEach(function(t){a+=t.taskNum}),a>this.gettask.totle&&this.$notify.error({title:"超过上一步任务数"}),this.$store.commit("update",{name:"releaseDateList",value:t})},deep:!0}},created:function(){this.formatTime()},methods:{nowtime:function(){var t=new Date,e=t.getHours(),a=t.getMinutes();return console.log(e+""+a),(e<10?"0"+e:e)+":"+(a<10?"0"+a:a)},endtime:function(){var t=new Date,e=new Date(t.getTime()+54e5),a=e.getHours(),s=e.getMinutes();return console.log(a+""+s),(a<10?"0"+a:a)+":"+(s<10?"0"+s:s)},formatTime:function(){var t=this.getdate.data,e=[];console.log(t),t&&(r()(t).forEach(function(a){console.log(a,t[a]),e.push(a)}),this.dateList=e,console.log(e),this.releaseDateList[0].taskNum=this.gettask.totle,this.releaseDateList[0].releaseDay=this.dateList[0])},btnClick:function(t){"back"===t?this.$emit("changeState",{state:"secondStep"}):this.$emit("changeState",{state:"fourStep"})},deletePathData:function(t){this.releaseDateList.splice(t,1)},addPathData:function(t){var e=this.releaseDateList[t],a=o()({},e);a.isadd=!1,this.releaseDateList.splice(t+1,0,a)},reduceData:function(t){var e=this.releaseDateList.length;console.log(t,e),this.releaseDateList.splice(t,1)}}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"time-box"},[a("div",{staticClass:"title"},[a("el-row",[a("el-col",{staticClass:"left",attrs:{span:12}},[a("span",[t._v("发布时间:")]),t._v(" "),a("el-radio-group",{model:{value:t.priceType,callback:function(e){t.priceType=e},expression:"priceType"}},[a("el-radio",{attrs:{label:1}},[t._v("立刻发布")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("今日平均发布")]),t._v(" "),a("el-radio",{attrs:{label:3}},[t._v("多天平均发布")])],1)],1),t._v(" "),a("el-col",{staticClass:"right",attrs:{span:12}},[a("el-row",[a("el-col",{attrs:{span:20}},[a("div",{staticClass:"right-container"},[a("span",{staticStyle:{"margin-right":"10px"}},[t._v("\n                总数:\n                "),a("em",{staticClass:"red"},[t._v(t._s(t.gettask.totle))])]),t._v(" "),a("span",{staticStyle:{"margin-right":"10px"}},[t._v("\n                PC:\n                "),a("em",{staticClass:"red"},[t._v(t._s(t.gettask.pctotle))])]),t._v(" "),a("span",{staticStyle:{"margin-right":"10px"}},[t._v("\n                无线端:\n                "),a("em",{staticClass:"red"},[t._v(t._s(t.gettask.apptotle))])])])])],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"funTable"},[a("el-row",{staticClass:"tableTitle"},[a("el-col",{attrs:{span:3}},[t._v("日期（剩余发布数）")]),t._v(" "),a("el-col",{attrs:{span:3}},[t._v("任务数")]),t._v(" "),a("el-col",{attrs:{span:6}},[t._v("开始时间")]),t._v(" "),a("el-col",{attrs:{span:6}},[t._v("结束时间")]),t._v(" "),a("el-col",{attrs:{span:6}},[t._v("超时取消")])],1),t._v(" "),t._l(t.releaseDateList,function(e,s){return[a("el-row",{key:s,staticClass:"tableContent"},[a("el-col",{staticClass:"first-col",attrs:{span:3}},[1!=t.priceType?a("span",[t.releaseDateList[s].isadd?a("i",{staticClass:"el-icon-circle-plus-outline",on:{click:function(e){return t.addPathData(s)}}}):a("i",{staticClass:"el-icon-remove-outline",on:{click:function(e){return t.reduceData(s)}}})]):t._e(),t._v(" "),a("span",{staticStyle:{color:"#333"}},[a("span",[t._v(t._s(t.releaseDateList[s].releaseDay))])])]),t._v(" "),a("el-col",{attrs:{span:3}},[a("el-input-number",{attrs:{min:0,size:"mini"},model:{value:t.releaseDateList[s].taskNum,callback:function(e){t.$set(t.releaseDateList[s],"taskNum",e)},expression:"releaseDateList[index].taskNum"}})],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-time-select",{attrs:{placeholder:"起始时间",disabled:1==t.priceType,"picker-options":{start:t.releaseDateList[s].beginTime,step:"00:05",end:"23:59"}},model:{value:t.releaseDateList[s].beginTime,callback:function(e){t.$set(t.releaseDateList[s],"beginTime",e)},expression:"releaseDateList[index].beginTime"}})],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-time-select",{attrs:{disabled:1==t.priceType,placeholder:"结束时间","picker-options":{start:t.limitTime,step:"00:05",end:"23:59"}},model:{value:t.releaseDateList[s].endTime,callback:function(e){t.$set(t.releaseDateList[s],"endTime",e)},expression:"releaseDateList[index].endTime"}})],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-time-select",{attrs:{placeholder:"超时时间","picker-options":{start:t.limitTime,step:"00:05",end:"23:59"}},model:{value:t.releaseDateList[s].tiemout,callback:function(e){t.$set(t.releaseDateList[s],"tiemout",e)},expression:"releaseDateList[index].tiemout"}})],1)],1)]})],2)])},staticRenderFns:[]};var f=a("C7Lr")(g,_,!1,function(t){a("xHdY")},"data-v-23ccb988",null).exports,b={components:{settingDialogCom:v,choiceProductDialog:m.a,timeCom:f},data:function(){return{count:{current:0,value:0,pc:0,app:0},msg:"pubilcFlowTask",btnActive:1,dialogTableVisible:!1,dialogVisible:!1,choiceProductDialogShow:!1,pathSettingIndexData:{},goodsData:{},pathSettingIndex:0,pathSettingData:[{flowid:"",flowList:[{label:"APP自然搜索",value:1},{label:"淘口令",value:2},{label:"直通车",value:3},{label:"二维码",value:4}],keyword:"",taskNum:"",sortOrder:"",beginPrice:0,endPrice:0,shipment:"",otherCondition:""}],form:{sellerRemark:""},publicTiem:"",password:"",releaseValueAddList:[{title:"收藏商品",ba01Id:3,taskNum:0,price:0,percent:0,fee:.2},{title:"收藏店铺",ba01Id:4,taskNum:0,price:0,fee:.2,percent:0},{title:"加入购物车",ba01Id:5,taskNum:0,price:0,fee:.2,percent:0},{title:"问大家提问",ba01Id:6,taskNum:0,price:0,fee:.5,percent:0},{title:"旺旺咨询",ba01Id:7,taskNum:0,price:0,fee:.5,percent:0},{title:"领优惠券",ba01Id:8,taskNum:0,price:0,fee:.2,percent:0}],totle:"",options:[0,10,20,30,40,50,60,70,80,90,100]}},watch:{pathSettingData:{handler:function(t,e){var a=0,s=0,i=0;t.forEach(function(t){a+=t.taskNum,1==t.flowid.value?i+=t.taskNum:s+=t.taskNum}),this.count.current=a,this.count.pc=s,this.count.app=i;var l={};l.totle=a,l.pctotle=s,l.apptotle=i,this.$store.commit("settask",l)},deep:!0},releaseValueAddList:{handler:function(t,e){var a=this,s=0;t.forEach(function(t){0==t.percet?t.taskNum=0:t.taskNum=Math.round(a.count.current*t.percent/100),s+=t.price,t.price=t.taskNum*t.fee}),this.totle=s},deep:!0}},computed:d()({},Object(h.b)(["getall"]),Object(h.b)(["getgoods"]),Object(h.b)(["getdata"]),Object(h.b)(["getdate"]),{totleTask:function(){var t=this.getdate.data;console.log(t);var e=0;return t&&r()(t).forEach(function(a){t[a].constructor===Array&&(e+=t[item])}),e}}),methods:{choiceDialogConfirm:function(t){this.goodsData=t},choiceDialogClose:function(){this.choiceProductDialogShow=!1},settingDialogClose:function(){this.dialogTableVisible=!1},settingDialogConfirm:function(t){for(var e in console.log(t),t)this.pathSettingData[this.pathSettingIndex][e]=t[e]},addPathData:function(){this.pathSettingData.push({flowList:{value:"",options:[{label:"APP自然搜索",value:1},{label:"APP淘口令",value:2},{label:"PC直通车",value:3},{label:"APP二维码",value:4},{label:"PC自然搜索",value:5},{label:"APP直通车",value:6}]},flowid:"",keyword:"",taskNum:"",sortOrder:"",beginPrice:0,endPrice:0,shipment:"",otherCondition:""})},deletePathData:function(t){this.pathSettingData.splice(t,1)},settingClick:function(t){this.pathSettingIndex=t,this.pathSettingIndexData=this.pathSettingData[t],this.dialogTableVisible=!0},navListClick:function(t){this.$router.push({name:t,param:{tab:t}})},submit:function(){var t=this;if(""!=this.getdata.goodsid)if(""!=this.password){this.$store.commit("update",{name:"releaseFlowList",value:this.pathSettingData}),this.$store.commit("update",{name:"paypwd",value:this.password});var e=o()({},this.getdata);e.sellerRemark=this.form.sellerRemark,e.releaseValueAddList=this.releaseValueAddList,r()(e).forEach(function(t){e[t].constructor===Array&&(e[t]=i()(e[t]))}),this.$ajax.post("/ShopMember/sendFlow",e).then(function(e){console.log(e),"1"==e.data.code&&t.$alert("发布成功！",{confirmButtonText:"确定",callback:function(e){t.$store.commit("init",{name:"goods",value:{releaseFlowList:[{flowList:{value:"",options:[{label:"APP自然搜索",value:1},{label:"APP淘口令",value:2},{label:"PC直通车",value:3},{label:"APP二维码",value:4},{label:"PC自然搜索",value:5},{label:"APP直通车",value:6}]},flowid:"",keyword1:"",keyword:"",taskNum:"",sortOrder:"",beginPrice:"",endPrice:"",shipment:"",otherCondition:""}],sellerRemark:"",releaseDateList:[{taskNum:"",beginTime:"",endTime:"",tiemout:"",releaseDay:""}],paypwd:"",goodsid:"",releasePriceList:[{goodSize:"",goodPrice:0,goodNumber:0,courierFee:0,taskNum:0}],type:"",expressType:"",zdfee:"",releaseValueAddList:[]}}),t.$store.commit("init",{name:"goodsInfo",value:{}}),t.$store.commit("init",{name:"goodsInfo",value:{}}),t.$store.commit("init",{name:"taskTotle",value:{}}),t.$store.commit("init",{name:"date",value:{}}),t.$router.push("/flowTaskManagement")}})}).catch(function(t){})}else this.$notify.error({title:"请输入交易密码"});else this.$notify.error({title:"请先选择商品"})}}},k={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pubilcFlowTask"},[a("div",{staticClass:"taskManagementNavList"},[a("ul",[a("li",{staticClass:"current",on:{click:function(e){return t.navListClick("pubilcFlowTask")}}},[t._v("发布流量任务")]),t._v(" "),a("li",{on:{click:function(e){return t.navListClick("flowTaskManagement")}}},[t._v("流量任务管理")])])]),t._v(" "),a("div",{staticClass:"colTable"},[a("div",{staticClass:"title"},[a("el-row",[a("el-col",{staticClass:"left",attrs:{span:12}},[t._v("选定商品")]),t._v(" "),a("el-col",{staticClass:"right",attrs:{span:12}},[a("el-button",{staticClass:"tablebtnActive",attrs:{type:"primary"},on:{click:function(e){t.choiceProductDialogShow=!0}}},[t._v("选择商品")])],1)],1)],1),t._v(" "),a("div",{staticClass:"table"},[a("el-row",[a("el-col",{attrs:{span:5}},[t._v("商品简称")]),t._v(" "),a("el-col",{attrs:{span:14}},[t._v(t._s(t.getgoods.abbreviation))])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[t._v("商品ID")]),t._v(" "),a("el-col",{attrs:{span:14}},[t._v(t._s(t.getgoods.goodsid))])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[t._v("店铺名")]),t._v(" "),a("el-col",{attrs:{span:14}},[t._v(t._s(t.getgoods.shop_name))])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[t._v("商品标题")]),t._v(" "),a("el-col",{attrs:{span:14}},[t._v(t._s(t.getgoods.title))])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[t._v("商品链接")]),t._v(" "),a("el-col",{staticStyle:{"text-align":"center","word-break":"keep-all","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"},attrs:{span:14}},[a("span",[t._v(t._s(t.getgoods.url))])])],1),t._v(" "),a("img",{staticClass:"goods-img",attrs:{src:t.getgoods.img,alt:"",srcset:""}})],1)]),t._v(" "),a("div",{staticClass:"colTable"},[a("div",{staticClass:"title"},[a("el-row",[a("el-col",{staticClass:"left",attrs:{span:12}},[t._v("来路设置")]),t._v(" "),a("el-col",{staticClass:"right",attrs:{span:12}},[a("el-row",[a("el-col",{attrs:{span:20}},[a("div",{staticClass:"right-container"},[a("span",{staticStyle:{"margin-right":"10px"}},[t._v("当前总数:\n                  "),a("em",{staticClass:"red"},[t._v(t._s(t.count.current))])]),t._v(" "),a("span",{staticStyle:{"margin-right":"10px"}},[t._v("未来0天可发布总数:\n                  "),a("em",{staticClass:"red"},[t._v(t._s(t.totleTask))])]),t._v(" "),a("span",{staticStyle:{"margin-right":"10px"}},[t._v("PC:\n                  "),a("em",{staticClass:"red"},[t._v(t._s(t.count.pc))])]),t._v(" "),a("span",{staticStyle:{"margin-right":"10px"}},[t._v("无线端:\n                  "),a("em",{staticClass:"red"},[t._v(t._s(t.count.app))])]),t._v(" "),a("a",{staticClass:"btn btn-small"},[t._v("新增")])])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{staticClass:"tablebtnActive",attrs:{type:"primary"},on:{click:t.addPathData}},[t._v("新增")])],1)],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"funTable"},[a("el-row",{staticClass:"tableTitle"},[a("el-col",{attrs:{span:4}},[t._v("流量入口")]),t._v(" "),a("el-col",{attrs:{span:10}},[t._v("关键字")]),t._v(" "),a("el-col",{attrs:{span:4}},[t._v("数量")]),t._v(" "),a("el-col",{attrs:{span:4}},[t._v("其他筛选条件\n          "),t._v(" "),a("span",[t._v("（可选）")])]),t._v(" "),a("el-col",{attrs:{span:2}},[t._v("操作")])],1),t._v(" "),t._l(t.pathSettingData,function(e,s){return[a("el-row",{key:s,staticClass:"tableContent"},[a("el-col",{staticClass:"flowEnterSelect",attrs:{span:4}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.pathSettingData[s].flowid,callback:function(e){t.$set(t.pathSettingData[s],"flowid",e)},expression:"pathSettingData[index].flowid"}},t._l(t.pathSettingData[s].flowList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-col",{staticClass:"textInput",attrs:{span:10}},[a("el-input",{attrs:{disabled:4==t.pathSettingData[s].flowid,placeholder:"请设置关键字"},model:{value:t.pathSettingData[s].keyword,callback:function(e){t.$set(t.pathSettingData[s],"keyword",e)},expression:"pathSettingData[index].keyword"}})],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-input-number",{attrs:{min:1,size:"mini"},model:{value:t.pathSettingData[s].taskNum,callback:function(e){t.$set(t.pathSettingData[s],"taskNum",e)},expression:"pathSettingData[index].taskNum"}})],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{staticClass:"tablebtnActive",attrs:{type:"primary"},on:{click:function(e){return t.settingClick(s)}}},[t._v("设置")])],1),t._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{staticStyle:{"border-radius":"25px"},attrs:{type:"danger",size:"mini"},on:{click:function(e){return t.deletePathData(s)}}},[t._v("删除")])],1)],1)]})],2)]),t._v(" "),a("el-form",{ref:"form",staticStyle:{"margin-top":"20px"},attrs:{model:t.form,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"备注信息（选填）："}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.form.sellerRemark,callback:function(e){t.$set(t.form,"sellerRemark",e)},expression:"form.sellerRemark"}})],1)],1),t._v(" "),a("div",{staticClass:"colTable"},[a("timeCom")],1),t._v(" "),a("div",{staticClass:"colTable"},[a("div",{staticClass:"title"},[a("el-row",[a("el-col",{staticClass:"left",attrs:{span:24}},[a("span",{staticStyle:{"margin-right":"10px"}},[t._v("增值服务")]),t._v(" "),a("span",{staticStyle:{color:"red"}},[t._v("（即日起，增值服务需要收取附加费，同时要求买手上传相应截图证明）")])])],1)],1),t._v(" "),a("div",{staticClass:"funTable"},[a("el-row",{staticClass:"tableTitle"},[a("el-col",{attrs:{span:6}},[t._v("任务名称")]),t._v(" "),a("el-col",{attrs:{span:6}},[t._v("占比")]),t._v(" "),a("el-col",{attrs:{span:4}},[t._v("数量")]),t._v(" "),a("el-col",{attrs:{span:4}},[t._v("单价")]),t._v(" "),a("el-col",{attrs:{span:4}},[t._v("费用")])],1),t._v(" "),t._l(t.releaseValueAddList,function(e,s){return a("el-row",{key:s,staticClass:"tableContent"},[a("el-col",{attrs:{span:6}},[t._v("\n          "+t._s(e.title)+"\n        ")]),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择"},model:{value:e.percent,callback:function(a){t.$set(e,"percent",a)},expression:"item.percent"}},t._l(t.options,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1),t._v("%\n        ")],1),t._v(" "),a("el-col",{attrs:{span:4}},[t._v("\n          "+t._s(e.taskNum)+"\n        ")]),t._v(" "),a("el-col",{attrs:{span:4}},[t._v("\n          "+t._s(e.fee)+"\n        ")]),t._v(" "),a("el-col",{attrs:{span:4}},[t._v("\n          "+t._s(e.price)+"\n        ")])],1)}),t._v(" "),a("el-row",{staticClass:"tableContent"},[a("el-col",{attrs:{span:6}}),t._v(" "),a("el-col",{attrs:{span:6}}),t._v(" "),a("el-col",{attrs:{span:4}}),t._v(" "),a("el-col",{attrs:{span:4}}),t._v(" "),a("el-col",{attrs:{span:4}},[t._v("增值总费用："+t._s(t.totle)+"元")])],1)],2)]),t._v(" "),a("div",{staticClass:"bottom"},[a("div",[a("span",{staticStyle:{"margin-top":"28px"}},[a("span",[t._v("任务总数："+t._s(t.count.current)+"    ")]),t._v(" "),a("span",{staticStyle:{"margin-top":"8px"}},[t._v("\n          总费用\n          "),a("span",{staticStyle:{color:"rgb(136, 136, 136)"}},[t._v("(基础总费用+增值总费用)")]),t._v("：\n          "),a("span",{staticStyle:{"font-size":"17px",color:"rgb(250, 0, 0)"}},[t._v(t._s(t.totle)+"元")])])])]),t._v(" "),a("div",{staticClass:"goet",staticStyle:{"text-align":"right"}},[a("span",[t._v("支付密码：")]),t._v(" "),a("el-input",{staticStyle:{width:"160px"},attrs:{size:"mini"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),a("div",[a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确认发布")])],1)]),t._v(" "),a("div"),t._v(" "),a("setting-dialog-com",{attrs:{"dialog-table-visible":t.dialogTableVisible,"setting-data":t.pathSettingIndexData},on:{dialogClose:t.settingDialogClose,dialogConfirm:t.settingDialogConfirm}}),t._v(" "),a("choice-product-dialog",{attrs:{"dialog-table-visible":t.choiceProductDialogShow},on:{dialogClose:t.choiceDialogClose,dialogConfirm:t.choiceDialogConfirm}})],1)},staticRenderFns:[]};var C=a("C7Lr")(b,k,!1,function(t){a("lB0s")},"data-v-2d651ac7",null);e.default=C.exports},lB0s:function(t,e){},oStY:function(t,e){},s6ZY:function(t,e,a){"use strict";var s={props:{dialogTableVisible:{type:Boolean,default:function(){return!1}}},watch:{dialogTableVisible:function(t){this.dialogShow=t}},data:function(){return{tipsTableVisible:!1,gridData:null,dialogShow:!1,pagination:{currentPage:1,total:0},data:[],columns:[{name:"店铺名",code:"shop_name",width:"",com:"input"},{name:"商品简称",code:"abbreviation",width:"",com:"input"},{name:"商品ID",code:"goodsid",width:""},{name:"商品标题",code:"title",width:""}],shop_name:{value:"",options:[{label:"所有店铺",value:"所有店铺"},{label:"tourmate途美利威专卖店",value:"tourmate途美利威专卖店"},{label:"羽马汽车用品专营店",value:"羽马汽车用品专营店"}]},title:"",goodsid:""}},methods:{handleCurrentChange:function(t){this.pagination.currentPage=t,this.getGoodsData()},getShop:function(){var t=this;this.$ajax("shop/index").then(function(e){console.log("shopshop",e),e&&e.data&&1===e.data.code&&(t.shop_name.options=e.data.data.data)})},getGoodsData:function(){var t=this;this.$ajax("goods/index",{params:{token:this.$getToken(),shopid:this.shop_name.value,title:this.title,goodsid:this.goodsid,page:this.pagination.currentPage}}).then(function(e){console.log("goods",e),e&&e.data&&1===e.data.code&&(t.data=e.data.data.data,t.pagination.total=e.data.data.total)})},onRowClick:function(t){this.activeRow=t,console.log(t)},rowDbClick:function(t){this.activeRow=t,this.dialogConfirm()},dialogClose:function(){this.$emit("dialogClose",!1)},dialogConfirm:function(){this.$emit("dialogConfirm",this.activeRow),this.$emit("dialogClose",!1),this.$store.commit("setgoods",this.activeRow),this.$store.commit("update",{name:"goodsid",value:this.activeRow.goodsid}),this.getStatus(this.activeRow.shopid)},getStatus:function(t){var e=this;this.$ajax.post("goods/number",{shopid:t,type:"1"}).then(function(t){console.log("shopshop",t),t&&t.data&&1===t.data.code&&(e.gridData=t.data,e.tipsTableVisible=!0,e.$store.commit("setdate",t.data))})}},mounted:function(){this.getShop()}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"choiceProductDialog"},[a("el-dialog",{attrs:{title:"选择商品",visible:t.dialogShow,width:"60%"},on:{"update:visible":function(e){t.dialogShow=e},close:t.dialogClose}},[a("div",{staticClass:"content"},[a("el-row",[a("el-col",{attrs:{span:3}},[t._v("选择店铺:")]),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-select",{attrs:{placeholder:"请选择店铺"},model:{value:t.shop_name.value,callback:function(e){t.$set(t.shop_name,"value",e)},expression:"shop_name.value"}},t._l(t.shop_name.options,function(t){return a("el-option",{key:t.shop_name,attrs:{label:t.shop_name,value:t.id}})}),1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"请输入商品ID"},model:{value:t.goodsid,callback:function(e){t.goodsid=e},expression:"goodsid"}})],1),t._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.getGoodsData}},[t._v("搜索")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.data,height:"250",border:"","highlight-current-row":!0},on:{"row-click":t.onRowClick,"row-dblclick":t.rowDbClick}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),t._v(" "),t._l(t.columns,function(t,e){return a("el-table-column",{key:e,attrs:{width:t.width,prop:t.code,label:t.name,align:"center"}})})],2),t._v(" "),a("div",{staticClass:"pagination",staticStyle:{"margin-top":"10px","text-align":"right"}},[a("el-pagination",{attrs:{"current-page":t.pagination.currentPage,"page-sizes":[20],layout:"total, sizes, prev, pager, next, jumper",total:t.pagination.total},on:{"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.dialogClose}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.dialogConfirm}},[t._v("确 定")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"店铺未来7天可发布数量",visible:t.tipsTableVisible},on:{"update:visible":function(e){t.tipsTableVisible=e}}},[t.gridData&&1==t.gridData.code?a("table",{staticClass:"restable"},[a("tr",[a("th",[t._v("日期")]),t._v(" "),a("th",[t._v("数量")])]),t._v(" "),t._l(t.gridData.data,function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(s))]),t._v(" "),a("td",[t._v(t._s(e))])])})],2):a("div",{staticStyle:{color:"#f00","text-align":"center",padding:"50px","font-size":"16px"}},[t._v("智能助手已过期")])])],1)},staticRenderFns:[]};var l=a("C7Lr")(s,i,!1,function(t){a("oStY")},"data-v-38d11d72",null);e.a=l.exports},tx3I:function(t,e){},xHdY:function(t,e){}});
//# sourceMappingURL=8.25b54c8bdd27362911a6.js.map
webpackJsonp([13],{UINg:function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("ynPL"),l={components:{tableCom:t("uyiJ").a},created:function(){this.queryData()},data:function(){return{msg:"orderMessage",page:1,total:0,formData:{type:{value:"",options:[{value:"1",label:"发布任务"},{value:"2",label:"取消任务"},{value:"3",label:"充值"},{value:"4",label:"购买流量"},{value:"5",label:"多退少补"},{value:"6",label:"任务处罚"},{value:"7",label:"财务增"},{value:"8",label:"财务扣"},{value:"9",label:"购买发布点"},{value:"10",label:"兑换资金"},{value:"11",label:"返回待支付退差价"},{value:"12",label:"返回待支付退担保金"},{value:"13",label:"取消流量"},{value:"14",label:"返回待支付退处罚"},{value:"15",label:"工单处罚"},{value:"16",label:"退出任务退处罚"},{value:"17",label:"退出任务退多退少补"},{value:"18",label:"购买智能助手基础版"},{value:"19",label:"购买评价"},{value:"20",label:"取消评价"},{value:"21",label:"返还购买评价"}]},orderid:"",date:""},tableData:{data:[],columns:[{name:"消费ID",code:"orderid",width:"150"},{name:"类型",code:"type",width:""},{name:"消费存款",code:"b_price",width:""},{name:"消费发布点",code:"b_publishing",width:"100"},{name:"原存款",code:"before_price",width:""},{name:"原发布点",code:"before_publishing",width:""},{name:"剩余存款",code:"price",width:""},{name:"剩余发布点",code:"publishing",width:"100"},{name:"备注",code:"remark",width:"200"},{name:"消费时间",code:"ct",width:"160"}]}}},computed:{list:function(){var a=this.tableData.data;return a.forEach(function(a){a.before_publishing=a.before_publishing/100,a.publishing=a.publishing/100,a.b_publishing=a.b_publishing/100}),a}},methods:{handleCurrentChange:function(a){this.page=a,this.queryData("param")},queryData:function(a){var e=this,t={params:{token:this.$getToken()}};a&&(t={params:{token:this.$getToken(),type:this.formData.type.value,orderid:this.formData.orderid,page:this.page,start:this.formData.date[0],end:this.formData.date[1]}}),this.$ajax.get("shopmember/detailed",t).then(function(a){a&&a.data&&1===a.data.code&&(a.data.data.data.forEach(function(a){switch(a.type){case 1:a.type="发布任务";break;case 2:a.type="取消任务";break;case 3:a.type="充值";break;case 4:a.type="购买流量";break;case 5:a.type="多退少补";break;case 6:a.type="任务处罚";break;case 7:a.type="财务增";break;case 8:a.type="财务扣";break;case 9:a.type="购买发布点";break;case 10:a.type="兑换资金";break;case 11:a.type="返回待支付退差价";break;case 12:a.type="返回待支付退担保金";break;case 13:a.type="取消流量";break;case 14:a.type="返回待支付退处罚";break;case 15:a.type="工单处罚";break;case 16:a.type="退出任务退处罚";break;case 17:a.type="退出任务退多退少补";break;case 18:a.type="购买智能助手基础版";break;case 19:a.type="购买评价";break;case 20:a.type="取消评价";break;case 21:a.type="返还购买评价"}a.b_price=a.b_price/100,a.MinLi=a.b_publishing/100,a.before_price=a.before_price/100,a.price=a.price/100}),e.tableData.data=a.data.data.data,e.total=a.data.data.total,e.page=1)})},handleDownload:function(){var a=this;if(this.tableData.data.length<=0)return this.$notify({title:"没有数据可导出",type:"warning"}),!1;this.downloadLoading=!0;for(var e=[],n=[],l=0;l<this.tableData.columns.length;l++)e.push(this.tableData.columns[l].name),n.push(this.tableData.columns[l].code);t.e(28).then(function(){var l=t("zWO4").exportJsonToExcel,r=a.tableData.data,o=a.formatJson(n,r);l(e,o,"列表excel"),a.downloadLoading=!1}.bind(null,t)).catch(t.oe)},formatJson:function(a,e){return e.map(function(e){return a.map(function(a){return e[a]})})}}},r={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",[t("div",{staticClass:"evaluationManagement"},[t("div",{staticClass:"btnGroup"},[t("el-row",[t("el-col",{staticClass:"formGroup",staticStyle:{"text-align":"left !important"},attrs:{span:20}},[t("span",[a._v("统计时间")]),a._v(" "),t("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:a.formData.date,callback:function(e){a.$set(a.formData,"date",e)},expression:"formData.date"}}),a._v(" "),t("span",[a._v("类型")]),a._v(" "),t("el-select",{attrs:{placeholder:"请选择"},model:{value:a.formData.type.value,callback:function(e){a.$set(a.formData.type,"value",e)},expression:"formData.type.value"}},a._l(a.formData.type.options,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1),a._v(" "),t("span",[a._v("任务编号")]),a._v(" "),t("el-input",{attrs:{placeholder:"请输入内容"},model:{value:a.formData.orderid,callback:function(e){a.$set(a.formData,"orderid",e)},expression:"formData.orderid"}})],1),a._v(" "),t("el-col",{staticStyle:{"line-height":"40px"},attrs:{span:4}},[t("el-button",{staticClass:"tablebtnActive",staticStyle:{"margin-left":"0px"},on:{click:function(e){return a.queryData("param")}}},[a._v("查询")]),a._v(" "),t("el-button",{staticClass:"tablebtnFFF",staticStyle:{"margin-left":"0px"},on:{click:function(e){return a.handleDownload()}}},[a._v("导出")])],1)],1)],1),a._v(" "),t("div",{staticClass:"table"},[t("table-com",{attrs:{columns:a.tableData.columns,data:a.list,total:a.total,"table-height":400},on:{handleCurrentChange:a.handleCurrentChange}})],1)])])},staticRenderFns:[]};var o=t("C7Lr")(l,r,!1,function(a){t("pv+N")},"data-v-2cfd3f10",null).exports,s={components:{navList:n.a,orderDetailMsg:o},props:{},data:function(){return{currentTab:"fundManagement",topTabCurrent:"1",name:"",money:""}},methods:{navListClick:function(a){this.$router.push({name:a,param:{tab:a}})},toPNavChangeTab:function(a){console.log(a),this.topTabCurrent=a}}},i={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"fundManagement"},[t("el-row",[t("el-col",{staticClass:"navList",attrs:{span:4}},[t("nav-list",{attrs:{"current-tab":a.currentTab}})],1),a._v(" "),t("el-col",{staticClass:"accountManage",attrs:{span:18}},[t("div",{staticClass:"taskManagementNavList topList"},[t("ul",[t("li",{class:"1"==a.topTabCurrent?"current":"",on:{click:function(e){return a.toPNavChangeTab("1")}}},[a._v("收支流水明细")])])]),a._v(" "),t("div",{staticClass:"tabContent"},["1"==a.topTabCurrent?t("order-detail-msg"):a._e()],1)])],1)],1)},staticRenderFns:[]};var c=t("C7Lr")(s,i,!1,function(a){t("bMFW")},"data-v-ba683366",null);e.default=c.exports},bMFW:function(a,e){},"pv+N":function(a,e){}});
//# sourceMappingURL=13.840751126354025d8fb8.js.map
webpackJsonp([17],{"P/Oe":function(t,a){},"lo+O":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=e("06DN"),o=e("uyiJ"),i={components:{navList:l.a,tableCom:o.a},data:function(){return{currentTab:"evaluationManagement",page:1,total:0,radio:"1",dialogShow:!1,rules:{sellerRemark:[{required:!0,message:"请选择店铺类型",trigger:"blur"}],paypwd:[{required:!0,message:"请选择掌柜号",trigger:"blur"}]},ruleForm:{sellerRemark:"",paypwd:"",img1:"",img2:"",img3:"",img4:"",img5:""},formData:{status:{value:"",options:[{label:"待评价",value:1},{label:"待审核",value:2},{label:"审核不通过",value:3},{label:"已完成",value:4},{label:"已取消",value:6}]},type_find:{value:"",options:[{label:"任务编号",value:1},{label:"运单号",value:2},{label:"店铺名称",value:3},{label:"买号名称",value:4},{label:"商品编号",value:5},{label:"商品简称",value:6}]},name:"",date:""},choiceRowData:{},tableData:{data:[],columns:[{name:"任务/订单编号",code:"ordersn",width:""},{name:"买号/商品信息",code:"goodMsg",width:""},{name:"好评内容",code:"haoping",width:""},{name:"追评内容",code:"zhuiping",width:""},{name:"任务状态",code:"status",width:""},{name:"操作按钮",code:"btn",width:""}]}}},created:function(){this.queryData()},methods:{pingjiaPub:function(t){this.choiceRowData=this.tableData.data[t],this.dialogShow=!0},handleCurrentChange:function(t){this.page=t,this.queryData("param")},queryData:function(t){var a=this,e={params:{token:this.$getToken()}};t&&(e={params:{token:this.$getToken(),page:this.page,status:this.formData.status.value,name:this.formData.name,type_find:this.formData.type_find.value,start:this.formData.date[0],end:this.formData.date[1]}}),this.$ajax.get("shopmember/EvaluateList",e).then(function(t){t&&t.data&&1===t.data.code&&(a.tableData.data=t.data.data.data,a.total=t.data.data.total,a.page=1)})},submit:function(){var t=this,a={token:this.$getToken(),orderid:this.choiceRowData.id,type:this.choiceRowData.type,sellerRemark:this.ruleForm.sellerRemark,paypwd:this.ruleForm.paypwd};"2"===this.radio&&(a.img=this.ruleForm.img1+","+this.ruleForm.img2+","+this.ruleForm.img3+","+this.ruleForm.img4+","+this.ruleForm.img5),this.$ajax.get("shopmember/releaseEvaluate",{params:a}).then(function(a){a&&a.data&&1===a.data.code&&(t.$emit("submitSuccess"),t.$notify({title:"提交成功",type:"success"}),t.resetForm(),t.dialogShow=!1)})},resetForm:function(){this.$refs.ruleForm.resetFields()},img1:function(t){console.log(t),1===t.code?this.ruleForm.img1="http://h5om.knowsea.cn"+t.data:(this.$notify.error({title:"上传图片失败"}),this.goodsImgList=[])},img2:function(t){console.log(t),1===t.code?this.ruleForm.img2="http://h5om.knowsea.cn"+t.data:(this.$notify.error({title:"上传图片失败"}),this.goodsImgList=[])},img3:function(t){console.log(t),1===t.code?this.ruleForm.img3="http://h5om.knowsea.cn"+t.data:(this.$notify.error({title:"上传图片失败"}),this.goodsImgList=[])},img4:function(t){console.log(t),1===t.code?this.ruleForm.img4="http://h5om.knowsea.cn"+t.data:(this.$notify.error({title:"上传图片失败"}),this.goodsImgList=[])},img5:function(t){console.log(t),1===t.code?this.ruleForm.img5="http://h5om.knowsea.cn"+t.data:(this.$notify.error({title:"上传图片失败"}),this.goodsImgList=[])}}},s={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"taskManagement"},[e("nav-list",{attrs:{"current-tab":t.currentTab}}),t._v(" "),e("div",{staticClass:"evaluationManagement"},[e("div",{staticClass:"btnGroup"},[e("el-row",[e("el-col",{staticClass:"formGroup",staticStyle:{"text-align":"left !important"},attrs:{span:18}},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formData.status.value,callback:function(a){t.$set(t.formData.status,"value",a)},expression:"formData.status.value"}},t._l(t.formData.status.options,function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formData.type_find.value,callback:function(a){t.$set(t.formData.type_find,"value",a)},expression:"formData.type_find.value"}},t._l(t.formData.type_find.options,function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),e("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.name,callback:function(a){t.$set(t.formData,"name",a)},expression:"formData.name"}}),t._v(" "),e("span",[t._v("支付时间")]),t._v(" "),e("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.formData.date,callback:function(a){t.$set(t.formData,"date",a)},expression:"formData.date"}})],1),t._v(" "),e("el-col",{staticStyle:{"line-height":"40px"},attrs:{span:6}},[e("el-button",{staticClass:"tablebtnActive",on:{click:function(a){return t.queryData("param")}}},[t._v("查询")]),t._v(" "),e("el-button",{staticClass:"tablebtnFFF",on:{click:function(a){return t.queryData()}}},[t._v("刷新")])],1)],1)],1),t._v(" "),e("div",{staticClass:"tableCom"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData.data,border:"",height:"400"}},[t._l(t.tableData.columns,function(a,l){return["ordersn"==a.code?[e("el-table-column",{key:l,attrs:{width:a.width,prop:a.code,label:a.name,align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"tableCellMsg"},[e("p",[t._v("任务编号: "+t._s(t.tableData.data[a.$index].id))])])]}}],null,!0)})]:"goodMsg"==a.code?[e("el-table-column",{key:l,attrs:{width:a.width,prop:a.code,label:a.name,align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"tableCellMsg"},[e("p",[t._v("买号: "+t._s(t.tableData.data[a.$index].taobao))]),t._v(" "),e("p",[t._v("店铺名称："+t._s(t.tableData.data[a.$index].shop_name))]),t._v(" "),e("p",[t._v("商品简称："+t._s(t.tableData.data[a.$index].abbreviation))])])]}}],null,!0)})]:"haoping"==a.code?[e("el-table-column",{key:l,attrs:{width:a.width,prop:a.code,label:a.name,align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"tableCellMsg"},[t.tableData.data[a.$index].haoping?e("p",[t._v(t._s(t.tableData.data[a.$index].haoping))]):e("p",[t._v("暂未设置好评内容")])])]}}],null,!0)})]:"zhuiping"==a.code?[e("el-table-column",{key:l,attrs:{width:a.width,prop:a.code,label:a.name,align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"tableCellMsg"},[t.tableData.data[a.$index].zhuiping?e("p",[t._v(t._s(t.tableData.data[a.$index].zhuiping))]):e("p",[t._v("暂未设置追评内容")])])]}}],null,!0)})]:"status"==a.code?[e("el-table-column",{key:l,attrs:{width:a.width,prop:a.code,label:a.name,align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"tableCellMsg"},["0"==t.tableData.data[a.$index].status?e("p",{staticStyle:{"text-align":"center",color:"rgb(12, 185, 229)",cursor:"pointer"}},[t._v("待接手")]):"1"==t.tableData.data[a.$index].status?e("p",{staticStyle:{"text-align":"center",color:"rgb(12, 185, 229)",cursor:"pointer"}},[t._v("进行中")]):"2"==t.tableData.data[a.$index].status?e("p",{staticStyle:{"text-align":"center",color:"rgb(12, 185, 229)",cursor:"pointer"}},[t._v("待发货")]):"3"==t.tableData.data[a.$index].status?e("p",{staticStyle:{"text-align":"center",color:"rgb(12, 185, 229)",cursor:"pointer"}},[t._v("待完成")]):"4"==t.tableData.data[a.$index].status?e("p",{staticStyle:{"text-align":"center",color:"rgb(12, 185, 229)",cursor:"pointer"}},[t._v("已完成")]):"5"==t.tableData.data[a.$index].status?e("p",{staticStyle:{"text-align":"center",color:"rgb(12, 185, 229)",cursor:"pointer"}},[t._v("隐藏中")]):"6"==t.tableData.data[a.$index].status?e("p",{staticStyle:{"text-align":"center",color:"rgb(12, 185, 229)",cursor:"pointer"}},[t._v("已取消")]):e("p",{staticStyle:{"text-align":"center",color:"rgb(12, 185, 229)",cursor:"pointer"}},[t._v("未设置评价")]),t._v(" "),e("p",[t._v("支付时间："+t._s(t.tableData.data[a.$index].ct))])])]}}],null,!0)})]:"btn"==a.code?[e("el-table-column",{key:l,attrs:{width:a.width,prop:a.code,label:a.name,align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return["4"==t.tableData.data[a.$index].status?e("el-button",{staticStyle:{"border-radius":"25px",cursor:"pointer"},attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.pingjiaPub(a.$index)}}},[t._v("设置评价内容")]):t._e()]}}],null,!0)})]:[e("el-table-column",{key:l,attrs:{width:a.width,prop:a.code,label:a.name,align:"center "}})]]})],2),t._v(" "),e("div",{staticClass:"pagination "},[e("el-pagination",{attrs:{"current-page":t.page,"page-sizes":[20],layout:"total, sizes, prev, pager, next, jumper ",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1)]),t._v(" "),e("div",{staticClass:"settingDialogCom"},[e("el-dialog",{staticStyle:{"margin-top":"20px"},attrs:{title:"添加商品",visible:t.dialogShow,width:"60%"},on:{"update:visible":function(a){t.dialogShow=a}}},[e("div",[t._v("选择评价类型:\n        "),e("el-radio",{attrs:{label:"1"},model:{value:t.radio,callback:function(a){t.radio=a},expression:"radio"}},[t._v("文字好评\n          "),e("span",{staticClass:"red"},[t._v("1.5")]),t._v("个发布点")]),t._v(" "),e("el-radio",{attrs:{label:"2"},model:{value:t.radio,callback:function(a){t.radio=a},expression:"radio"}},[t._v("晒图好评\n          "),e("span",{staticClass:"red"},[t._v("2.5")]),t._v("个发布点")])],1),t._v(" "),e("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"140px"}},[e("el-form-item",{attrs:{label:"设置评价内容",prop:"sellerRemark"}},[e("el-input",{attrs:{type:"textarea"},model:{value:t.ruleForm.sellerRemark,callback:function(a){t.$set(t.ruleForm,"sellerRemark",a)},expression:"ruleForm.sellerRemark"}})],1),t._v(" "),"2"==t.radio?e("el-form-item",{attrs:{label:"上传图片1",prop:"img1"}},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://h5om.knowsea.cn/shop/Upload/uploadFile","show-file-list":!1,"on-success":t.img1}},[t.ruleForm.img1?e("img",{staticClass:"avatar",attrs:{src:t.ruleForm.img1}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1):t._e(),t._v(" "),"2"==t.radio?e("el-form-item",{attrs:{label:"上传图片2",prop:"img2"}},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://h5om.knowsea.cn/shop/Upload/uploadFile","show-file-list":!1,"on-success":t.img2}},[t.ruleForm.img2?e("img",{staticClass:"avatar",attrs:{src:t.ruleForm.img2}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1):t._e(),t._v(" "),"2"==t.radio?e("el-form-item",{attrs:{label:"上传图片3",prop:"img3"}},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://h5om.knowsea.cn/shop/Upload/uploadFile","show-file-list":!1,"on-success":t.img3}},[t.ruleForm.img3?e("img",{staticClass:"avatar",attrs:{src:t.ruleForm.img3}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1):t._e(),t._v(" "),"2"==t.radio?e("el-form-item",{attrs:{label:"上传图片4",prop:"img4"}},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://h5om.knowsea.cn/shop/Upload/uploadFile","show-file-list":!1,"on-success":t.img4}},[t.ruleForm.img4?e("img",{staticClass:"avatar",attrs:{src:t.ruleForm.img4}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1):t._e(),t._v(" "),"2"==t.radio?e("el-form-item",{attrs:{label:"上传图片5",prop:"img5"}},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://h5om.knowsea.cn/shop/Upload/uploadFile","show-file-list":!1,"on-success":t.img5}},[t.ruleForm.img5?e("img",{staticClass:"avatar",attrs:{src:t.ruleForm.img5}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1):t._e(),t._v(" "),e("el-form-item",{attrs:{label:"身份验证",prop:"paypwd"}},[e("el-input",{model:{value:t.ruleForm.paypwd,callback:function(a){t.$set(t.ruleForm,"paypwd",a)},expression:"ruleForm.paypwd"}})],1),t._v(" "),e("div",{staticStyle:{"text-align":"center","margin-bottom":"50px"}},[e("el-button",{attrs:{type:"primary"},on:{click:function(a){t.dialogShow=!1}}},[t._v("取消")]),t._v(" "),e("el-button",{on:{click:function(a){return t.submit()}}},[t._v("确定")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var r=e("C7Lr")(i,s,!1,function(t){e("P/Oe")},"data-v-e7609d3a",null);a.default=r.exports}});
//# sourceMappingURL=17.f4c6fc1307587ddef05d.js.map
webpackJsonp([15],{"66n5":function(s,t){},mrsp:function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=/^1[345678]\d{9}$/;var r={data:function(){return{src:"",form:{phone:"",imgcode:"",code:"",testNum:"",phoneTestNum:"",userName:"",NickName:"",password:"",confirmPass:"",qq:"",rqcode:""},phoneNumTest:!0,codeCount:60,tt:null,showCode:!1,sign:""}},created:function(){this.getImg(),this.getCode()},methods:{getCode:function(){var s=function(s,t){var e=s.toString().split("?");if(e.length>1){for(var o,r=e[1].split("&"),a=0;a<r.length;a++)if(null!=(o=r[a].split("="))&&o[0]==t)return o[1];return""}return""}(location.href,"code");this.form.rqcode=s},register:function(){var s=this;this.form.phone&&o.test(this.form.phone)?this.form.imgcode?this.form.code?this.form.userName?this.form.NickName?this.form.password?this.form.confirmPass?this.form.qq?this.form.confirmPass==this.form.confirmPass?this.$ajax.post("login/register",{phone:this.form.phone,pwd:this.form.password,Username:this.form.userName,NickName:this.form.NickName,QQToken:this.form.qq,code:this.form.code,qrCode:this.form.rqcode}).then(function(t){t&&t.data&&"1"==t.data.code&&(s.$notify({title:"注册成功",type:"success"}),s.$router.push("/login"))}):this.$message.error("两次密码不一致"):this.$message.error("请确认QQ号码"):this.$message.error("请确认密码"):this.$message.error("请输入密码"):this.$message.error("请输入姓名"):this.$message.error("请输入会员账号"):this.$message.error("请输入短信验证码"):this.$message.error("请输入图片验证码"):this.$message.error("请输入正确的手机号码")},sendMsg:function(){var s=this;this.form.phone&&o.test(this.form.phone)?this.form.imgcode?(this.showCode=!0,this.codeCount=60,this.tt=setInterval(function(){s.codeCount=s.codeCount-1,s.codeCount<=0&&(s.showCode=!1,clearInterval(s.tt))},1e3),this.$ajax.post("login/sendSms",{phone:this.form.phone,code:this.form.imgcode,sign:this.sign}).then(function(s){})):this.$message.error("请输入图片验证码"):this.$message.error("请输入正确的手机号码")},next:function(){this.form.phone&&o.test(this.form.phone)?this.form.imgcode?this.form.code?this.phoneNumTest=!1:this.$message.error("请输入短信验证码"):this.$message.error("请输入图片验证码"):this.$message.error("请输入正确的手机号码")},getImg:function(){for(var s,t=Date.now(),e="",o=1;o<=4;o++)s=parseInt(10*Math.random()),e+="1234567890".charAt(s);var r=t+e;this.sign=r,this.src="http://h5om.knowsea.cn/shop/login/Verify?sign="+r}}},a={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"register"},[e("p",{staticClass:"title"},[s._v("商家注册")]),s._v(" "),s.phoneNumTest?e("div",[e("ul",{staticClass:"out"},[e("li",{staticClass:"n current",on:{click:function(t){s.phoneNumTest=!0}}},[e("p",[s._v("获取手机验证码")])]),s._v(" "),e("li",{staticClass:"n",on:{click:function(t){s.phoneNumTest=!1}}},[e("p",[s._v("填写会员信息")])])]),s._v(" "),e("div",{staticClass:"form"},[e("p",[e("span",{staticClass:"left"},[s._v("手机号码：")]),s._v(" "),e("span",{staticClass:"right"},[e("el-input",{attrs:{placeholder:"请输入您的手机号码"},model:{value:s.form.phone,callback:function(t){s.$set(s.form,"phone",t)},expression:"form.phone"}})],1)]),s._v(" "),e("p",[e("span",{staticClass:"left"},[s._v("验证码：")]),s._v(" "),e("span",{staticClass:"right"},[e("el-input",{attrs:{maxlength:4,placeholder:"请输入验证码"},model:{value:s.form.imgcode,callback:function(t){s.$set(s.form,"imgcode",t)},expression:"form.imgcode"}}),s._v(" "),e("img",{attrs:{src:s.src},on:{click:s.getImg}})],1)]),s._v(" "),e("p",[e("span",{staticClass:"left"},[s._v("手机验证码：")]),s._v(" "),e("span",{staticClass:"right",staticStyle:{width:"460px"}},[e("el-input",{staticStyle:{width:"330px"},attrs:{placeholder:"请输入6位验证码"},model:{value:s.form.code,callback:function(t){s.$set(s.form,"code",t)},expression:"form.code"}}),s._v(" "),e("span",{staticClass:"sendSMS"},[s.showCode?e("span",{staticClass:"count"},[s._v(s._s(s.codeCount)+"S")]):e("span",{staticClass:"send",on:{click:s.sendMsg}},[s._v("获取验证码")])])],1)]),s._v(" "),e("p",{staticStyle:{"text-align":"center"}},[e("el-button",{staticStyle:{width:"245px","border-radius":"40px",margin:"20px 0",height:"40px"},attrs:{type:"primary",size:"small"},on:{click:s.next}},[s._v("下一步")])],1)])]):s._e(),s._v(" "),s.phoneNumTest?s._e():e("div",[e("ul",{staticClass:"out"},[e("li",{staticClass:"n",on:{click:function(t){s.phoneNumTest=!0}}},[e("p",[s._v("获取手机验证码")])]),s._v(" "),e("li",{staticClass:"n current",on:{click:function(t){s.phoneNumTest=!1}}},[e("p",[s._v("填写会员信息")])])]),s._v(" "),e("div",{staticClass:"form"},[e("p",[e("span",{staticClass:"left"},[s._v("商家姓名：")]),s._v(" "),e("span",{staticClass:"right"},[e("el-input",{attrs:{placeholder:"请输入您的姓名"},model:{value:s.form.NickName,callback:function(t){s.$set(s.form,"NickName",t)},expression:"form.NickName"}})],1)]),s._v(" "),e("p",[e("span",{staticClass:"left",staticStyle:{float:"left"}},[s._v("商家会员帐号：")]),s._v(" "),e("span",{staticClass:"right"},[e("el-input",{attrs:{placeholder:"请输入您喜欢使用的会员帐号名"},model:{value:s.form.userName,callback:function(t){s.$set(s.form,"userName",t)},expression:"form.userName"}})],1)]),s._v(" "),e("p",[e("span",{staticClass:"left"},[s._v("登录密码：")]),s._v(" "),e("span",{staticClass:"right"},[e("el-input",{attrs:{type:"password",maxlength:20,placeholder:"请输入密码"},model:{value:s.form.password,callback:function(t){s.$set(s.form,"password",t)},expression:"form.password"}})],1)]),s._v(" "),e("p",[e("span",{staticClass:"left"},[s._v("确认密码：")]),s._v(" "),e("span",{staticClass:"right"},[e("el-input",{attrs:{type:"password",maxlength:20,placeholder:"请确认密码"},model:{value:s.form.confirmPass,callback:function(t){s.$set(s.form,"confirmPass",t)},expression:"form.confirmPass"}})],1)]),s._v(" "),e("p",[e("span",{staticClass:"left"},[s._v("联系QQ：")]),s._v(" "),e("span",{staticClass:"right"},[e("el-input",{attrs:{placeholder:"请输入QQ号"},model:{value:s.form.qq,callback:function(t){s.$set(s.form,"qq",t)},expression:"form.qq"}})],1)]),s._v(" "),e("p",[e("span",{staticClass:"left"},[s._v("邀请码（选填）")]),s._v(" "),e("span",{staticClass:"right"},[e("el-input",{attrs:{placeholder:"请输入邀请码"},model:{value:s.form.rqcode,callback:function(t){s.$set(s.form,"rqcode",t)},expression:"form.rqcode"}})],1)]),s._v(" "),e("p",{staticStyle:{"text-align":"center"}},[e("el-button",{staticStyle:{width:"245px","border-radius":"40px",margin:"20px 0",height:"40px"},attrs:{type:"primary",size:"small"},on:{click:s.register}},[s._v("注册")])],1)])])])},staticRenderFns:[]};var i=e("C7Lr")(r,a,!1,function(s){e("66n5")},"data-v-fb650b06",null);t.default=i.exports}});
//# sourceMappingURL=15.c38954b24f084678891b.js.map